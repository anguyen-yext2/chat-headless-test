<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [anguyen-chat-headless-test](./anguyen-chat-headless-test.md) &gt; [ChatHeadless](./anguyen-chat-headless-test.chatheadless.md) &gt; [streamNextMessage](./anguyen-chat-headless-test.chatheadless.streamnextmessage.md)

## ChatHeadless.streamNextMessage() method

Performs a Chat Stream API request for the next message generated by chat bot using the conversation state (e.g. message history and notes). The new message's "text" field is continously updated as tokens from the stream are consumed. Remaining conversation state are updated once the final event from the stream is recieved.

**Signature:**

```typescript
streamNextMessage(text?: string, source?: MessageSource): Promise<MessageResponse | undefined>;
```

## Parameters

<table><thead><tr><th>

Parameter


</th><th>

Type


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

text


</td><td>

string


</td><td>

_(Optional)_ the text of the next message


</td></tr>
<tr><td>

source


</td><td>

MessageSource


</td><td>

_(Optional)_ the source of the message


</td></tr>
</tbody></table>

**Returns:**

Promise&lt;MessageResponse \| undefined&gt;

a Promise of the full response from the Chat Stream API

## Remarks

If rejected, an ApiError is returned. A new message is added to the conversation history only if the provided text is not empty.

